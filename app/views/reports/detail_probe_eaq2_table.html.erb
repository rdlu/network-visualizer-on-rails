<table class="table table-bordered table-hover table-condensed" >
  <thead>
  <tr >
    <th ></th>
    <th ></th>
    <%  Threshold.all.each do |threshold|  %>
            <th style="text-align: center"><%= threshold.description %></br> Meta: <%= threshold.compliance_level* 100 %>%</th>
    <% end %>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td colspan="2" style="text-align: center;min-width: 175px">Agente</td>
    <%  Threshold.all.each do |threshold| %>
         <td style="text-align: center"><%= threshold.name %> <br/></td>
    <% end %>
  </tr>
  <% unless @report_results[:fixed][:linux].nil? %>
  <!-- LINUX FIXO -->
  <tr>
    <td rowspan="<%= @report_results[:fixed][:linux].size + 1 %>" style="padding-top: 50px; text-align: center"> Linux Fixo</td>
  <% @probes.all.each do |pb| %>
        <% if pb.connection_profile.conn_type == "fixed" && pb.type == "linux" %>
          <tr>
            <td style="text-align: center"> <%= @report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:name]%></td>
            <% Threshold.all.each do |threshold|
              case threshold.id
                when 1
            %>
              <td style="text-align: center">
               <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:dsavg]}</span>".html_safe %>
              </td>
            <% when 2 %>
               <td style="text-align: center">
                 <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:dsavg]}</span>".html_safe %>
               </td>
            <% when 3 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm6][:dsavg]}</span>".html_safe %>
                </td>
            <% when 4 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:dsavg]}</span>".html_safe %>
                </td>
            <% when 5 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm8][:avg] }%</span>".html_safe %>
                </td>
            <% when 6 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm9][:dsavg]}%</span>".html_safe %>
                </td>
            <% end
               end %>
          </tr>
       <% end %>
    <% end %>
    </tr>
  <% end %>
  <% unless @report_results[:mobile][:linux].nil? %>
    <!-- LINUX MOVEL -->
    <tr>
      <td rowspan="<%= @report_results[:mobile][:linux].size + 1 %>" style="padding-top: 50px; text-align: center"> Linux MÃ³vel</td>
      <% @probes.all.each do |pb| %>
          <% if pb.connection_profile.conn_type == "mobile" && pb.type == "linux" %>
          <tr>
            <td style="text-align: center"> <%= @report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:name]%></td>
            <% Threshold.all.each do |threshold|
              case threshold.id
                when 1
            %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:dsavg]}</span>".html_safe %>
                </td>
            <% when 2 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:dsavg]}</span>".html_safe %>
                </td>
            <% when 3 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm6][:dsavg]}</span>".html_safe %>
                </td>
            <% when 4 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:dsavg]}</span>".html_safe %>
                </td>
            <% when 5 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm8][:avg] }%</span>".html_safe %>
                </td>
            <% when 6 %>
                <td style="text-align: center">
                  <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm9][:dsavg]}%</span>".html_safe %>
                </td>
            <% end
               end %>
          </tr>
      <% end %>
  <% end %>
  </tr>
  <% end %>
  <!-- ANDROID -->
  <% unless @report_results[:mobile][:android].nil? %>
  <tr>
    <td rowspan="<%= @report_results[:mobile][:android].size + @report_results[:fixed][:android].size + 1 %>" style="padding-top: 50px; text-align: center">Android</td>
    <% @probes.all.each do |pb| %>
        <% if pb.type == "android" %>
          <tr>
            <td style="text-align: center"> <%= @report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:name]%></td>
    <% Threshold.all.each do |threshold|
      case threshold.id
        when 1
    %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm4][:dsavg]}</span>".html_safe %>
        </td>
    <% when 2 %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm5][:dsavg]}</span>".html_safe %>
        </td>
    <% when 3 %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm6][:dsavg]}</span>".html_safe %>
        </td>
    <% when 4 %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:sdavg]}/#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm7][:dsavg]}</span>".html_safe %>
        </td>
    <% when 5 %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm8][:avg] }%</span>".html_safe %>
        </td>
    <% when 6 %>
        <td style="text-align: center">
          <%= "<span style=\"color:green\">#{@report_results[pb.connection_profile.conn_type.to_sym][pb.type.to_sym][pb.id][:scm9][:dsavg]}%</span>".html_safe %>
        </td>
    <% end
       end %>
  </tr>
  <% end %>
  <% end %>
  </tr>
  <% end %>
      </tbody>
</table>
